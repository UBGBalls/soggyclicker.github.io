<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soggy Clicker</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
        background-color: blue; /* Add your background image URL here */
        background-size: cover;
        background-position: center;
        transition: background-color 0.3s, color 0.3s;
    }
    .light {
        background-color: rgba(255, 255, 255, 0.8); /* Add a semi-transparent white overlay for better contrast */
        color: #333;
    }
    .dark {
        background-color: rgba(0, 0, 0, 0.8); /* Add a semi-transparent black overlay for better contrast */
        color: #f8f9fa;
    }
    /* Add other styles here */
</style>
</head>
<body class="light">

<header>
    <img src="header-image.jpg" alt="Header Image" id="header-img"> <!-- Add your header image here -->
</header>

<h1>Clicker Game</h1>

<div id="clickArea">
    <img src="../assets/images/sc3.png" alt="Click me!" id="clickButton">
</div>

<div id="score">Score: <span id="scoreValue">0</span></div>

<div id="upgrades">
    <!-- Upgrade tree HTML here -->
</div>

<button id="rebirthBtn">Rebirth</button>

<button id="toggleDarkModeBtn">Toggle Dark Mode</button>

<script>
    // Constants
    const SCORE_KEY = 'score';
    const CLICK_VALUE_KEY = 'clickValue';
    const REBIRTH_COUNT_KEY = 'rebirthCount';

    // Variables
    let score = parseInt(localStorage.getItem(SCORE_KEY)) || 0;
    let clickValue = parseFloat(localStorage.getItem(CLICK_VALUE_KEY)) || 1;
    let rebirthCount = parseInt(localStorage.getItem(REBIRTH_COUNT_KEY)) || 0;

    // DOM Elements
    const clickButton = document.getElementById('clickButton');
    const scoreValue = document.getElementById('scoreValue');
    const upgradeButtons = document.querySelectorAll('.upgrade-btn');
    const rebirthBtn = document.getElementById('rebirthBtn');
    const toggleDarkModeBtn = document.getElementById('toggleDarkModeBtn');

    // Function to update score display
    function updateScoreDisplay() {
        scoreValue.textContent = score;
    }

    // Function to save progress to local storage
    function saveProgress() {
        localStorage.setItem(SCORE_KEY, score);
        localStorage.setItem(CLICK_VALUE_KEY, clickValue);
        localStorage.setItem(REBIRTH_COUNT_KEY, rebirthCount);
    }

    // Function to handle click event
    function handleClick() {
        score += clickValue;
        updateScoreDisplay();
        saveProgress();
    }

    // Initialize the game
    function initializeGame() {
        updateScoreDisplay();

        clickButton.addEventListener('click', handleClick);

        // Add event listeners for upgrade buttons
        upgradeButtons.forEach(button => {
            button.addEventListener('click', () => {
                const cost = parseInt(button.dataset.cost);
                const multiplier = parseFloat(button.dataset.multiplier);
                if (score >= cost) {
                    score -= cost;
                    updateScoreDisplay();
                    saveProgress();
                    clickValue *= multiplier;
                    button.disabled = true;
                }
            });
        });

        // Add event listener for rebirth button
        rebirthBtn.addEventListener('click', () => {
            if (score >= 1000) { // Example cost for rebirth
                score = 0;
                clickValue = 1 + rebirthCount * 0.1; // Adjust click value after each rebirth
                rebirthCount++;
                updateScoreDisplay();
                saveProgress();
                alert('You have been reborn! Your score has been reset.');
                resetUpgrades();
            } else {
                alert('You need at least 1000 points to rebirth.');
            }
        });

        // Add event listener for dark mode toggle button
        toggleDarkModeBtn.addEventListener('click', () => {
            document.body.classList.toggle('dark');
        });
    }

    // Reset upgrades function
    function resetUpgrades() {
        upgradeButtons.forEach(button => {
            button.disabled = false;
        });
    }

    // Call initializeGame function when DOM is loaded
    document.addEventListener('DOMContentLoaded', initializeGame);
</script>

</body>
</html>
